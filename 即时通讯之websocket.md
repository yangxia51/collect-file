# WebSocket说明
WebSocket是HTML5新增的协议，建立浏览器与服务器不受限双向通信的通道，服务器可在任何时间推送消息给浏览器

# http为什么无法实现即时通讯
- http无法实现问题在于它是一个请求-响应协议 必须浏览器发送服务器 服务器才能响应 不主动发 服务器无法主动发送消息给浏览器
- http可用轮询或者conmet实现 但是都存在缺点
轮询：轮询指浏览器通过js启动一个定时器，以固定的间隔给服务器发送请求，询问有没有新消息，实时性不够，频繁的请求会给服务器带来极大的压力。
- Conmet 也叫长轮询 打开一条连接以后保持，等待服务器推送来数据再关闭的方式。解决了实时性的问题，但多线程模式运行的服务器会让大部分线程大部分时间都处于挂起状态，极大的浪费服务器资源。一个HTTP连接在长时间没有数据传输的情况下，链路上的任何一个网关都可能关闭这个连接，而网关是我们不可控的，这就要求 Comet连接必须定期发一些ping数据表示连接“正常工作”。

#webSocket 原理
webSocket是利用http协议建立连接的，可以发送文本和二进制数据。

#为什么webSocket可以实现全双工而HTTP不可以?
 - 实际上HTTP协议是建立在TCP协议之上的，TCP协议本身就实现了全双工通信，但是HTTP协议的请求－应答机制限制了全双工通信。
 - WebSocket连接建立以后，其实只是简单规定了一下：接下来，咱们通信就不使用HTTP协议了，直接互相发数据吧。

# ws / wss的区别
wss是安全的websocket连接机制和HTTPs类似，浏览器用wss://xxx创建WebSocket连接时，会先通过HTTPS创建安全的连接，然后，该HTTPS连接升级为WebSocket连接，底层通信走的仍然是安全的SSL/TLS协议。

[推荐阅读](https://juejin.im/post/5c9ad3ecf265da61173a43ab)